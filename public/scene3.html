<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- AFRAME VERSION -->
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <!-- MINDAR IMAGE TRACKER -->
    <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.1/dist/mindar-image-aframe.prod.js"></script>
    <!-- PLUGINS -->
    <script src="https://unpkg.com/aframe-environment-component/dist/aframe-environment-component.min.js"></script>
    <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v4.1.3/dist/aframe-extras.min.js"></script> 
  </head>
  <body>
    <a-scene
          render="colorManagement: true; physicallyCorrectLights:true; antialias: true;"
          reflection="directionalLight:a-light#dirlight;"
          mindar-image="imageTargetSrc: ./mindAR/targets.mind;"
          vr-mode-ui="enabled: false"
          device-orientation-permission-ui="enabled: false">
      <!-- ASSETS -->
      <a-assets>
        <a-asset-item
          id="islandOnly"
          src="./models/jti_island_only_logo.glb"
        ></a-asset-item>
        <a-asset-item id="smoke" src="./models/Scene2.glb"></a-asset-item>
        <a-asset-item
          id="islandNoLogo"
          src="./models/jti_island_nologo_nosphere.glb"
        ></a-asset-item>
      </a-assets>
      <!-- CAMERA -->
      <a-camera id="camera" position="0 0 0" look-controls="enabled: false">
        <a-image src="./imgs/excla_icon.png" width="0.1" height="0.1" position="0 0 -0.1" look-at="#camera"></a-image>
      </a-camera>
      <!-- MINDAR TARGET -->
      <a-entity mindar-image-target="targetIndex: 0">
        <!-- LIGHTING -->
        <a-entity
          id="ambient"
          light="type: ambient; color: #FFF;  intensity: 1"
          position="1 -2 0"
        ></a-entity>
        <a-light
          id="dirlight"
          light="color: #fdb784; intensity: 0.5; decay: -1.38; distance: 1000"
          position="-0.01132 1.00071 -0.01089"
        ></a-light>
        <a-light
          id="dirlight"
          intensity="1"
          light="color: #fcdd96"
          position="1 1 1"
        ></a-light>
        <a-entity
          light="type: point; color: #f07d28; groundColor: #ffdbc4; intensity: 30; distance: 1000"
          position="0.00021 -2.12991 0.00224"
        ></a-entity>
        <a-entity
          light="type: point; color: #ff1a1f; groundColor: #ffdbc4; intensity: 30; distance: 900"
          position="0.51021 -3.49991 0.31224"
        ></a-entity>
        <a-entity
          light="type: point; color: #ff1a1f; groundColor: #ffdbc4; intensity: 30; distance: 900"
          position="-0.45021 -3.63991 0.44224"
        ></a-entity>
        <a-light
          id="point"
          type="point"
          color="white"
          position="-1 1 0"
          intensity="1"
          distance="5000"
          decay="5"
        ></a-light>
        <a-light
          id="dirlight"
          type="directional"
          color="white"
          position="0 5 0"
          intensity="2"
          distance="5000"
          decay="5"
        ></a-light>
        <a-light
          id="hemisphere"
          type="hemisphere"
          color="white"
          position="0 -.2 0"
          intensity=".5"
          distance="5000"
          decay="5"
        ></a-light>

        <!-- GLB Files -->
        <!-- LOGO -->
        <a-entity>
          <!-- LOOP Activated till able to figure out OnClick Event -->
          <a-entity
            gltf-model="#islandOnly"
            position="0 .4 0"
            rotation="0 0 0"
            scale=".5 .5 .5"
          >
        <a-animation ></a-animation></a-entity>
        </a-entity>
        <!-- STORK -->
      <a-entity>
  
          <a-entity id="model" gltf-model="#smoke" scale="5 5 5" position="0 -.5 -.2" rotation="0 -110 0" animation-mixer="clip: KeyAction.003; enabled: false;  paused: true; loop: false;"></a-entity>
          </a-entity>

      </a-entity>
        <!-- ISLAND -->
        <a-gltf-model
          src="#islandNoLogo"
          position="0 -1 0"
          rotation="0 0 0"
          scale=".5 .5 .5"
        ></a-gltf-model>
      </a-entity>
    </a-scene>
    <script>
      function startAnimation() {
        var model = document.querySelector('#model');
        model.setAttribute('animation-mixer', 'enabled', true);
        model.setAttribute('animation-mixer', 'clip', 'KeyAction.003');
        model.setAttribute('animation-mixer', 'paused', false);
      }
    </script>
    <script>
 
    </script>
  </body>
</html>